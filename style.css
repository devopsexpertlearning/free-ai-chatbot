:root {
  --bg-dark:#202124; --bg-light:#f5f5f5;
  --text-dark:#e8eaed; --text-light:#202124;
  --user-color:#0b93f6; --bot-color:#303134; --error-color:#d93025;
}
body {
  margin:0; font-family:"Segoe UI",Roboto,sans-serif;
  display:flex; flex-direction:column; height:100vh;
  background-color:var(--bg-dark); color:var(--text-dark);
  transition:background 0.3s,color 0.3s;
}
body.light { background-color:var(--bg-light); color:var(--text-light); }

#chatContainer {
  flex:1; overflow-y:auto; padding:10px; display:flex; flex-direction:column; gap:10px;
  scroll-behavior:smooth; -webkit-overflow-scrolling:touch; position:relative;
}

#modelContainer {
  padding:10px; border-top:1px solid #444; background:#202124;
}
#modelSelect {
  padding:6px 12px; border-radius:8px; border:1px solid #555;
  background:#303134; color:#e8eaed;
}

#scrollBtn {
  position:absolute; bottom:70px; right:20px;
  background:#0b93f6; border:none; color:white;
  padding:8px 12px; border-radius:20px; cursor:pointer;
  display:none; box-shadow:0 2px 4px rgba(0,0,0,0.3);
  z-index:10;
}

.message {
  max-width:80%; padding:12px; border-radius:18px;
  word-wrap:break-word; white-space:pre-wrap;
  line-height:1.4; box-shadow:0 1px 3px rgba(0,0,0,0.2);
}
.user { align-self:flex-end; background:var(--user-color); color:white; border-bottom-right-radius:4px; }
.bot { align-self:flex-start; background:var(--bot-color); color:var(--text-dark); border-bottom-left-radius:4px; }
.error { background:var(--error-color); color:white; }

pre {
  background:#1e1e1e; color:#dcdcdc; padding:10px;
  border-radius:12px; overflow:auto; font-size:14px;
  margin:4px 0;                 /* tightened spacing */
  position:relative;
  max-height:400px;             /* scroll if too long */
}
pre code {
  display:block;
  white-space:pre;              /* keep formatting */
  margin:0;                     /* no extra space */
}
.copy-btn {
  position:absolute; top:6px; right:6px;
  background:#0b93f6; border:none; color:white;
  padding:2px 6px; border-radius:4px; cursor:pointer;
  font-size:12px; opacity:0; transition:opacity 0.2s;
}
pre:hover .copy-btn { opacity:1; }

#inputContainer {
  display:flex; padding:10px; border-top:1px solid #444;
  background:var(--bg-dark); align-items:center;
}
body.light #inputContainer { background:var(--bg-light); }

#userInput {
  flex:1; padding:12px; border-radius:25px;
  border:1px solid #555; background:#303134;
  color:#e8eaed; font-size:16px; outline:none;
}
body.light #userInput { background:#e0e0e0; color:var(--text-light); }

#sendBtn {
  margin-left:8px; padding:10px 18px;
  border-radius:25px; border:none;
  background:#0b93f6; color:white; font-weight:bold; cursor:pointer;
}
#sendBtn:hover { background:#0872c6; }

#themeToggle {
  margin-left:8px; padding:6px 10px;
  border-radius:20px; border:none; background:#888;
  color:white; cursor:pointer; font-size:14px;
}

.typing {
  display:inline-block; width:8px; height:8px; margin:0 2px;
  background:#e8eaed; border-radius:50%; animation:blink 1s infinite;
}
.typing:nth-child(2) { animation-delay:0.2s; }
.typing:nth-child(3) { animation-delay:0.4s; }
@keyframes blink { 0%,80%,100%{opacity:0;} 40%{opacity:1;} }
